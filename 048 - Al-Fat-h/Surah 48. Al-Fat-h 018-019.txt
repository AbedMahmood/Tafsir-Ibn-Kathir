Tafsir Ibn Kathir- Surah 48. Al-Fat-h, Ayaat 18 To 19

۞ لَقَدْ رَضِيَ اللَّهُ عَنِ الْمُؤْمِنِينَ إِذْ يُبَايِعُونَكَ تَحْتَ الشَّجَرَةِ فَعَلِمَ مَا فِي قُلُوبِهِمْ فَأَنْزَلَ السَّكِينَةَ عَلَيْهِمْ وَأَثَابَهُمْ فَتْحًا قَرِيبًا١٨وَمَغَانِمَ كَثِيرَةً يَأْخُذُونَهَا ۗ وَكَانَ اللَّهُ عَزِيزًا حَكِيمًا١٩
18. Indeed, Allah was pleased with the believers when they gave the pledge to you under the tree, He knew what was in their hearts, and He sent down As-Sakinah upon them, and He rewarded them with a near victory. 19. And abundant spoils that they will capture. And Allah is Ever All-Mighty, All-Wise.

Good News to the Participants of the Ridwan Pledge of Allah's Pleasure and earning Spoils of War

Allah declares that He is pleased with the believers who gave the pledge to the Messenger of Allah under the tree. We mentioned the number of these believers as being one thousand and four hundred and that the tree was a Samurah tree, located in the area of Hudaybiyyah. Al-Bukhari narrated from Tariq that `Abdur-Rahman said, "I went on Hajj and passed by people praying and asked, `What is this Masjid' They said, `This is the tree where the Messenger of Allah took the pledge of Ar-Ridwan.' So, I went to Sa`id bin Al-Musayyib and told him. Sa`id said, `My father told me that he was among those who gave their pledge to the Messenger of Allah under the tree. My father said: The following year, when we went out, we forgot its place and could not agree which tree it was.' Sa`id said, `The Companions of Muhammad forgot where the tree was, but you know where it is. Therefore, you have better knowledge than them!''' Allah said,

﴿فَعَلِمَ مَا فِى قُلُوبِهِمْ﴾
(He knew what was in their hearts,) meaning, of truthfulness, trustworthiness, obedience and adherence,

﴿فَأنزَلَ السَّكِينَةَ﴾
(and He sent down As-Sakinah), calmness and tranquillity,

﴿عَلَيْهِمْ وَأَثَـبَهُمْ فَتْحاً قَرِيباً﴾
(upon them, and He rewarded them with a near victory.) in reference to the goodness that Allah the Exalted and Most Honored caused to happened to the Companions on account of the peace treaty between them and their disbelieving enemies. Ever after that, the Companions gained abundant, general and continuous benefits and accomplishments, leading to the conquest of Khaybar and Makkah and then the various surrounding provinces and areas. They earned tremendous glory, triumphs and an elevated and honorable status in this life and in the Hereafter, just as Allah the Exalted said,

﴿وَمَغَانِمَ كَثِيرَةً يَأْخُذُونَهَا وَكَان اللَّهُ عَزِيزاً حَكِيماً ﴾
(And abundant spoils that they will capture. And Allah is Ever All-Mighty, All-Wise.)